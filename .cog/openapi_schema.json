{"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"title":"Detail","type":"array"}},"title":"HTTPValidationError","type":"object"},"Input":{"properties":{"bucket_no_upscale":{"default":true,"description":"Make bucket for each image without upscaling.","title":"Bucket No Upscale","type":"boolean","x-order":21},"cache_latents":{"default":true,"description":"Cache latents to main memory to reduce VRAM usage.","title":"Cache Latents","type":"boolean","x-order":8},"clip_skip":{"default":1,"description":"Use output of nth layer from back of text encoder.","title":"Clip Skip","type":"integer","x-order":17},"enable_bucket":{"default":true,"description":"Enable buckets for multi aspect ratio training.","title":"Enable Bucket","type":"boolean","x-order":6},"learning_rate":{"default":1,"description":"Learning rate. If using Prodigy Optimizer, set to 1.0","title":"Learning Rate","type":"number","x-order":13},"learning_rate_te1":{"default":0,"description":"Learning rate for text encoder 1.","title":"Learning Rate Te1","type":"number","x-order":15},"learning_rate_te2":{"default":0,"description":"Learning rate for text encoder 2.","title":"Learning Rate Te2","type":"number","x-order":16},"lr_scheduler":{"allOf":[{"$ref":"#/components/schemas/lr_scheduler"}],"default":"cosine","description":"Scheduler to use for learning rate.","x-order":12},"lr_warmup_steps":{"default":0,"description":"Number of steps for the warmup in the lr scheduler.","title":"Lr Warmup Steps","type":"integer","x-order":14},"max_token_length":{"allOf":[{"$ref":"#/components/schemas/max_token_length"}],"default":225,"description":"Max token length of text encoder.","x-order":18},"max_train_epochs":{"default":150,"description":"Training epochs.","title":"Max Train Epochs","type":"integer","x-order":4},"min_snr_gamma":{"default":5,"description":"gamma for reducing the weight of high loss timesteps.","title":"Min Snr Gamma","type":"number","x-order":19},"multires_noise_discount":{"default":0.1,"description":"Set discount value for multires noise.","title":"Multires Noise Discount","type":"number","x-order":24},"multires_noise_iterations":{"default":6,"description":"Enable multires noise with this number of iterations.","title":"Multires Noise Iterations","type":"integer","x-order":23},"no_half_vae":{"default":true,"description":"Do not use fp16/bf16 VAE in mixed precision (use float VAE).","title":"No Half Vae","type":"boolean","x-order":20},"optimizer_args":{"description":"Additional arguments for the optimizer.","title":"Optimizer Args","type":"string","x-order":11},"optimizer_type":{"allOf":[{"$ref":"#/components/schemas/optimizer_type"}],"default":"Prodigy","description":"Optimizer to use.","x-order":10},"output_name":{"default":"oberg_dream","description":"Trained model output name.","title":"Output Name","type":"string","x-order":1},"pretrained_model_name_or_path":{"description":"Model to be fine-tuned with.","format":"uri","title":"Pretrained Model Name Or Path","type":"string","x-order":0},"resolution":{"default":"1024,1024","description":"Resolution in training","title":"Resolution","type":"string","x-order":5},"save_every_n_epochs":{"description":"Save checkpoint every N epochs.","title":"Save Every N Epochs","type":"integer","x-order":7},"save_model_as":{"allOf":[{"$ref":"#/components/schemas/save_model_as"}],"default":"safetensors","description":"Format to save the model in.","x-order":2},"save_precision":{"allOf":[{"$ref":"#/components/schemas/save_precision"}],"default":"float","description":"Precision in saving.","x-order":3},"shuffle_caption":{"default":true,"description":"Shuffle separated caption.","title":"Shuffle Caption","type":"boolean","x-order":25},"train_data_zip":{"description":"Directory containing training images.","format":"uri","title":"Train Data Zip","type":"string","x-order":9},"xformers":{"default":true,"description":"Use xformers for CrossAttention.","title":"Xformers","type":"boolean","x-order":22}},"title":"Input","type":"object"},"Output":{"format":"uri","title":"Output","type":"string"},"PredictionRequest":{"properties":{"created_at":{"format":"date-time","title":"Created At","type":"string"},"id":{"title":"Id","type":"string"},"input":{"$ref":"#/components/schemas/Input"},"output_file_prefix":{"title":"Output File Prefix","type":"string"},"webhook":{"format":"uri","maxLength":65536,"minLength":1,"title":"Webhook","type":"string"},"webhook_events_filter":{"default":["start","output","logs","completed"],"items":{"$ref":"#/components/schemas/WebhookEvent"},"type":"array"}},"title":"PredictionRequest","type":"object"},"PredictionResponse":{"properties":{"completed_at":{"format":"date-time","title":"Completed At","type":"string"},"created_at":{"format":"date-time","title":"Created At","type":"string"},"error":{"title":"Error","type":"string"},"id":{"title":"Id","type":"string"},"input":{"$ref":"#/components/schemas/Input"},"logs":{"default":"","title":"Logs","type":"string"},"metrics":{"title":"Metrics","type":"object"},"output":{"$ref":"#/components/schemas/Output"},"started_at":{"format":"date-time","title":"Started At","type":"string"},"status":{"$ref":"#/components/schemas/Status"},"version":{"title":"Version","type":"string"}},"title":"PredictionResponse","type":"object"},"Status":{"description":"An enumeration.","enum":["starting","processing","succeeded","canceled","failed"],"title":"Status","type":"string"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"title":"Location","type":"array"},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}},"required":["loc","msg","type"],"title":"ValidationError","type":"object"},"WebhookEvent":{"description":"An enumeration.","enum":["start","output","logs","completed"],"title":"WebhookEvent","type":"string"},"lr_scheduler":{"description":"An enumeration.","enum":["linear","cosine","cosine_with_restarts","polynomial","constant (default)","constant_with_warmup","adafactor"],"title":"lr_scheduler","type":"string"},"max_token_length":{"description":"An enumeration.","enum":[75,150,225],"title":"max_token_length","type":"integer"},"optimizer_type":{"description":"An enumeration.","enum":["AdamW","PagedAdamW","PagedAdamW8bit","PagedAdamW32bit","Lion8bit","PagedLion8bit","Lion","SGDNesterov","SGDNesterov8bit","DAdaptation(DAdaptAdamPreprint)","DAdaptAdaGrad","DAdaptAdam","DAdaptAdan","DAdaptAdanIP","DAdaptLion","DAdaptSGD","AdaFactor","Prodigy"],"title":"optimizer_type","type":"string"},"save_model_as":{"description":"An enumeration.","enum":["ckpt","diffusers","safetensors","diffusers_safetensors"],"title":"save_model_as","type":"string"},"save_precision":{"description":"An enumeration.","enum":["float","fp16","bf16"],"title":"save_precision","type":"string"}}},"info":{"title":"Cog","version":"0.1.0"},"openapi":"3.0.2","paths":{"/":{"get":{"operationId":"root__get","responses":{"200":{"content":{"application/json":{"schema":{"title":"Response Root  Get"}}},"description":"Successful Response"}},"summary":"Root"}},"/health-check":{"get":{"operationId":"healthcheck_health_check_get","responses":{"200":{"content":{"application/json":{"schema":{"title":"Response Healthcheck Health Check Get"}}},"description":"Successful Response"}},"summary":"Healthcheck"}},"/predictions":{"post":{"description":"Run a single prediction on the model","operationId":"predict_predictions_post","parameters":[{"in":"header","name":"prefer","required":false,"schema":{"title":"Prefer","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionRequest"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionResponse"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Predict"}},"/predictions/{prediction_id}":{"put":{"description":"Run a single prediction on the model (idempotent creation).","operationId":"predict_idempotent_predictions__prediction_id__put","parameters":[{"in":"path","name":"prediction_id","required":true,"schema":{"title":"Prediction ID","type":"string"}},{"in":"header","name":"prefer","required":false,"schema":{"title":"Prefer","type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PredictionRequest"}],"title":"Prediction Request"}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PredictionResponse"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Predict Idempotent"}},"/predictions/{prediction_id}/cancel":{"post":{"description":"Cancel a running prediction","operationId":"cancel_predictions__prediction_id__cancel_post","parameters":[{"in":"path","name":"prediction_id","required":true,"schema":{"title":"Prediction ID","type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"title":"Response Cancel Predictions  Prediction Id  Cancel Post"}}},"description":"Successful Response"},"422":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}},"description":"Validation Error"}},"summary":"Cancel"}},"/shutdown":{"post":{"operationId":"start_shutdown_shutdown_post","responses":{"200":{"content":{"application/json":{"schema":{"title":"Response Start Shutdown Shutdown Post"}}},"description":"Successful Response"}},"summary":"Start Shutdown"}}}}